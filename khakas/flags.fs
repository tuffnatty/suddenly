: flag  ( u "name" -- )
  \ debug-mode? IF
  \   CELL 4 = IF 2VALUE ELSE DROP VALUE THEN
  \ ELSE
    CELL 4 = IF 2CONSTANT ELSE D>S CONSTANT THEN
  \ THEN
  ; IMMEDIATE

: flag-mask  ( u "name" -- )
  \ debug-mode? IF
  \   CELL 4 = IF 2VALUE ELSE DROP VALUE THEN
  \ ELSE
    CELL 4 = IF 2CONSTANT ELSE CONSTANT THEN
  \ THEN
  ; IMMEDIATE

\ flags in different slots must be distinct!
%00000000000000000000000000000000000000001. flag flag-Abl₂
%00000000000000000000000000000000000000010. flag flag-All1
%00000000000000000000000000000000000000100. flag flag-Ass₁
%00000000000000000000000000000000000001000. flag flag-Ass₂
%00000000000000000000000000000000000010000. flag flag-Ass₃
%00000000000000000000000000000000000100000. flag flag-Cond
%00000000000000000000000000000000001000000. flag flag-Convₚ
%00000000000000000000000000000000010000000. flag flag-Conv2
%00000000000000000000000000000000100000000. flag flag-Cunc
%00000000000000000000000000000001000000000. flag flag-Dur
%00000000000000000000000000000010000000000. flag flag-Dur1ᵢ
%00000000000000000000000000000100000000000. flag flag-Dur1ᵢᵣ
%00000000000000000000000000001000000000000. flag flag-Dur.Iter
%00000000000000000000000000010000000000000. flag flag-Futₐ
%00000000000000000000000000100000000000000. flag flag-Futₐᵣ
%00000000000000000000000001000000000000000. flag flag-Gen₁
%00000000000000000000000010000000000000000. flag flag-Gen.3pos
%00000000000000000000000100000000000000000. flag flag-Hab₁
%00000000000000000000001000000000000000000. flag flag-Hab₂
%00000000000000000000010000000000000000000. flag flag-Imp
%00000000000000000000100000000000000000000. flag flag-Imp.3
%00000000000000000001000000000000000000000. flag flag-Iter
%00000000000000000010000000000000000000000. flag flag-Neg
%00000000000000000100000000000000000000000. flag flag-Neg7
%00000000000000001000000000000000000000000. flag flag-Neg.Fut
%00000000000000010000000000000000000000000. flag flag-NF₀
%00000000000000100000000000000000000000000. flag flag-NF.Neg
%00000000000001000000000000000000000000000. flag flag-Opt-or-Assum
%00000000000010000000000000000000000000000. flag flag-Past
%00000000000100000000000000000000000000000. flag flag-Perf
%00000000001000000000000000000000000000000. flag flag-Person.br
%00000000010000000000000000000000000000000. flag flag-Poss1.nonpl
%00000000100000000000000000000000000000000. flag flag-Poss2.nonpl
%00000001000000000000000000000000000000000. flag flag-Pres
%00000010000000000000000000000000000000000. flag flag-Prosp
%00000100000000000000000000000000000000000. flag flag-RPast
%00001000000000000000000000000000000000000. flag flag-1sg.br
%00010000000000000000000000000000000000000. flag flag-1.pl
%00100000000000000000000000000000000000000. flag flag-2pl.br
%01000000000000000000000000000000000000000. flag flag-2pos.pl
%10000000000000000000000000000000000000000. flag flag-3pos₁

flag-Dur flag-Pres flag-OR                            flag-mask flag-Dur-or-Pres
flag-Hab₁ flag-Hab₂ flag-OR                           flag-mask flag-Hab
flag-RPast flag-Cond flag-OR                          flag-mask flag-RPast-or-Cond
flag-RPast-or-Cond flag-Pres flag-OR flag-Conv2 flag-OR    flag-mask flag-RPast-or-Cond-or-Pres-or-Conv2
flag-Past flag-Hab flag-OR                            flag-mask flag-Past-or-Hab
flag-Iter flag-Dur.Iter flag-OR
flag-Opt-or-Assum flag-OR flag-Cunc flag-OR
flag-Dur1ᵢᵣ flag-OR flag-Hab₂ flag-OR
flag-Futₐᵣ flag-OR flag-Neg.Fut flag-OR              flag-mask flag-Iter-or-Opt-or-Assum-or-Cunc-or-Neg.Fut-or-Dur1ᵢᵣ-or-Hab₂-or-Futₐᵣ
flag-Pres flag-Dur1ᵢ flag-OR flag-Past flag-OR
flag-Hab₁ flag-OR flag-Futₐ flag-OR                flag-mask flag-Pres-or-Dur1ᵢ-or-Past-or-Hab₁-or-Futₐ
